<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ZType Swahili Challenge</title>
  <link rel="stylesheet" href="style/style.css">
</head>
<body>
  <canvas class="stars" id="stars"></canvas>

  <!-- ==================== MENU SCREEN ==================== -->
  <div class="menu" id="main-menu">
    <h1>‚ö° ZTYPE SWAHILI ‚ö°</h1>
    <h2>Lightning Fast Word Matching</h2>
    <div class="rules">
      <div class="rule-item">
        <div class="rule-icon">‚òÖ</div>
        <div>Match the correct number from English to Swahili or Swahili to English</div>
      </div>
    </div>
    <div class="settings">
      <div class="setting-group">
        <label>Choose Master Language</label>
        <div class="radio-group">
          <div class="radio-option selected" data-value="english">
            <input type="radio" id="english-first" name="masterLanguage" value="english" checked>
            <div>English First</div>
          </div>
          <div class="radio-option" data-value="swahili">
            <input type="radio" id="swahili-first" name="masterLanguage" value="swahili">
            <div>Swahili First</div>
          </div>
        </div>
      </div>
    </div>
    <button class="start-btn" id="start-game">‚ñ∂ START MISSION</button>
  </div>

  <!-- ==================== GAME SCREEN ==================== -->
  <div class="game-screen" id="game-screen">
    <div class="game-header">
      <div class="header-left">
        <div class="game-title">‚ö° ZTYPE SWAHILI ‚ö°</div>
      </div>
      <div class="header-center">
        <div class="column-headers">
          <div class="header-column-title" id="master-header-title">ENGLISH</div>
          <div class="column-divider"></div>
          <div class="header-column-title" id="other-header-title">SWAHILI</div>
        </div>
      </div>
      <div class="header-right">
        <div class="game-stats">
          <div class="stat-item">
            <span class="stat-label">SCORE</span>
            <span class="stat-value" id="game-score">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">LEVEL</span>
            <span class="stat-value" id="game-level">1</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">LIVES</span>
            <span class="stat-value" id="game-lives">3</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">STREAK</span>
            <span class="stat-value" id="game-streak">0</span>
          </div>
        </div>
        <div class="selection-indicator" id="selection-indicator">Next: Master Word</div>
      </div>
    </div>

    <div class="center-divider"></div>

    <div class="game-columns">
      <div class="game-column column-master" id="master-column">
        <div class="words-area">
          <div class="words-placeholder">Words will appear here...</div>
        </div>
      </div>
      <div class="game-column column-other" id="other-column">
        <div class="words-area">
          <div class="words-placeholder">Translations will appear here...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ==================== GAME OVER SCREEN ==================== -->
  <div class="game-over-screen" id="game-over-screen">
    <div class="game-over-modal">
      <h2>üéÆ MISSION COMPLETE!</h2>
      <div class="stats-grid">
        <div class="stat-item">
          <span class="stat-label">Score</span>
          <span class="stat-value" id="final-score">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Level</span>
          <span class="stat-value" id="final-level">1</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Streak</span>
          <span class="stat-value" id="final-streak">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Best Score</span>
          <span class="stat-value" id="best-score">‚Äî</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Accuracy</span>
          <span class="stat-value" id="final-accuracy">0%</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Time</span>
          <span class="stat-value" id="final-time">0s</span>
        </div>
      </div>
      <button class="restart-btn" id="restart-game">üîÅ PLAY AGAIN</button>
      <button class="menu-btn" id="return-to-menu">üè† MAIN MENU</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/audio-manager.js"></script>
  <script src="js/visual-effects.js"></script>
  <script src="js/stars-animation.js"></script>
  <script src="js/words-manager.js"></script>
  <script src="js/game-engine.js"></script>
  <script src="js/menu-manager.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      new StarsAnimation('stars');
      const menuManager = new MenuManager();

      if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
        console.log = () => {};
        console.warn = () => {};
        console.error = () => {};
      }

      const bestScore = localStorage.getItem('ztypeBestScore') || 0;
      document.getElementById('best-score').textContent = bestScore;

      document.getElementById('restart-game').addEventListener('click', () => {
        document.getElementById('game-over-screen').classList.remove('active');
        const lang = document.querySelector('.radio-option.selected')?.getAttribute('data-value') || 'english';
        window.gameEngine = new GameEngine(lang);
      });

      document.getElementById('return-to-menu').addEventListener('click', () => {
        document.getElementById('game-over-screen').classList.remove('active');
        document.getElementById('game-screen').classList.remove('active');
        document.getElementById('main-menu').style.display = 'flex';
        document.getElementById('main-menu').classList.remove('fade-out');
      });
    });
  </script>
</body>
</html>